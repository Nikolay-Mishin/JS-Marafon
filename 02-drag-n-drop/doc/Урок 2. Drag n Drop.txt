добро пожаловать во второй день марафона

и как я и говорил новое приложение где

мы будем с вами разбираться с механизмом

работы drag-and-drop

dragon дроп это перетаскивание

определенных элементов им это разберем

на примере вот такого проекта

когда у нас есть статические заголовки и

есть один элемент который мы можем

перетаскивать в любую из этих колонок

ну например нас это и может быть задача

мы можем ее перетащить в колонку в

процессе

а потому что мы начали над не работать

вести она успешно перемещается и если мы

допустим мы и завершили то мы можем

перевести ее в

колонку готовые задачи и акцент этого

видео будет направлен на то что мы будем

с вами постепенно разбираться с тем как

мы можем создавать вот такие вот

интерактивные элементы которые мы сможем

перетаскивать и перемещать в each темы

или до в нужную нам колонку на самом

деле этот механизм dragon дроп он

относительно сложная но я постарался

построить урок таким образом чтобы вы

смогли с этим разобраться и смогли

писать подобные вещи уже для ваших

сайтов потому что на самом деле

используя этот функционал вы можете

задавать огромное количество различных

проектов ну например это может быть не

задача это может быть товар который мы

хотим и перетащить в корзину

да и вы сможете это сделать или более

того я на фрилансе встречал задачи когда

нужно реализовать

игру опять же с такой механикой да когда

мы перетаскиваем какие-то элементы и в

итоге мы получаем какую-то игрушку вот

за реализацию одного dragon дропа можно

брать от 2 до 10 тысяч рублей и пройдя

это видео вы сможете научиться подобные

вещи реализовывать поэтому будет

интересно будет чуть сложнее чем в

прошлом видео но я думаю что нам все

будет понятно поэтому давайте сразу же

начинать начинаем из текстового

редактора и не забудьте пожалуйста

скачать исходный код к данному уроку

потому что мы будем делать акцент именно

на java script в данном случае

и конкретно dragon дробь то есть стиль и

я уже заранее написал и когда вы

разархивируйте ваш проект вы получите

здесь два файла индекс html и ставишь

css то есть я их закинул просто в

отдельную папочку и откуда я буду

работать давайте посмотрим на index.htm

и

то есть он довольно таки простой он

содержит себе базовую верстку есть

статические наши заголовки и есть

строчка значит внутри строчки у нас

находится placeholder это то место куда

можно поместить будущую нашу карточку и

сама карточка она находится точнее

выглядит таким образом вычтем эл

у нее просто класс айта если мы

посмотрим на стиле то есть мы подключаем

шрифт задаем базовые стили немножечко

стиле для самой строчке различные бокс

shadow красивая

это мы задаем курсор

ну и немного градиентов то есть на самом

деле здесь тоже с точки зрения стилей

ничего сложного нет поэтому я предлагаю

начать именно с

функционала для этого перейдя в яндекс

html я нажимаю в любое место правой

кнопкой и запускаю это все с life

сервером

значит этот пример я убираю здесь у нас

ничего не работает как видите то есть мы

будем от разрабатывать и я разделю это

тоже на 2 экрана

можно так сделать

нажимаю control или команд b для того

чтобы убрать панель и первое что нам

потребуется здесь делать подключить

скрипт поэтому потратился убрать панель

значит создаю здесь новый файл я назову

его об .

джесс и в яндекс html прямо перед тем

как скрывается базе

я подключу новый скрипт с помощью тега

script кстати вы также можете написать

скрипт нажать tab только со второго раза

не работает скрипт tab да и вы получаете

уже готовый так здесь мы прописываем

атрибут src и я указываю путь до нашего

файла об . джед значит теперь мы можем

убрать меню перейти в обрез и начать

разработку чего вообще нам стоит и и

начать то есть как работает механизм

dragon дроп на самом деле все построено

на событиях потому что в какой то момент

мы не знаем какой мы нажимаем на этот

элемент и начинаем куда ты его оттащить

и конкретно этот функционал нам

необходимо реализовать с помощью java

script для этого первую очередь нам

необходимо получить сам этот элемент из

дом дерево

значит я могу получить состав

константу поэтому и получаем мы элементы

через

есть нам это нужно забрать через

конструкцию документ .

и учитывая что мне необходимо получить

один элемент то есть мешок верия

селектор мне в склад помогает и дальше

сюда в округе скобках я передаю css

селектор до этого элемента в нашем

случае это класс ой там мы даже можем на

него посмотреть в консоли убедиться что

мы действительно его получили я нажимаю

правой кнопкой посмотреть код так

нажимаю escape консоль да и мы видим что

ой там это у нас ни что иное как наша

карточка с которой мы хотим работать то

есть этот этап мы успешно сделали дальше

для того чтобы браузер понимал что этот

элемент мы можем каким-то образом

перетаскивать то нам необходимо внести

одну манипуляцию в самом html

мы находим наша этом тот элемент и здесь

мы должны добавить для него атрибут

которая называется драка пу и как

значение сюда мы передаем строчку true

теперь если мы сохраним во-первых мы

видим что мы получили его также в

консоли и дальше если я пытаюсь его

перетащить то вы видите эффект то есть

теперь браузер понимает ok

этот элемент можем перетаскивать поэтому

вот какую

визуализацию этого он дает но это как бы

только с точки зрения визуализации

потому что функционал это никак не

касается дальше мы работаем с нашим

поэтому и какие говорил нам необходимо

добавить здесь несколько для него

событий в java script мы это делаем

через обращение к самому элементу и

дальше

метод называется id event definer где

для того чтобы обработать события

передвижения элементов нам необходимо

здесь передать параметр строчки drag

star

да мы пишем это слитно и также второе

событие drag and то есть драк старт он

говорит когда мы начали перетаскивать то

есть что должно происходить

драган ты-то когда мы закончили сама

перетаскивание и вторым параметром в

эдем and less мир нам необходимо

добавить функции которые будут выполнены

когда эти события произойдут значит

функции я сам отдельно

назову их точно так же как и название

событие

драк старт и фаршу drag and

просто их передать драк старт

drag and

и теперь для того чтобы нам лучше

общее происходит то я предлагаю добавить

здесь can свой логин где мы будем

описывать

то что происходит в нашем приложении

когда вызывается драк старт мы будем

писать консоли драк старт и то же самое

с эндом теперь смотрите я начинаю

перетаскивать и как только я совершил

первое передвижение у нас в консоли

пишется drag star то есть мы начали все

это дело перемещать окей я его

кручу-верчу ничего не происходит но если

я отпускаю и элемент возвращается

обратно то вызывается события drag and

то есть мы закончили перетаскивание

примерно таким образом и работает в

общем то механика событий да то есть все

довольно таки просто мы их отслеживаем

обрабатываем мы говорим что нужно

сделать и теперь давайте более подробно

поработаем с этими методами то есть что

я хочу сделать первым когда мы начинаем

наш брак я хочу чтобы данный элемент

который сейчас у меня активной подмышкой

он выглядел немножечко лина чтобы мы

понимали да что мы его перетаскиваем ну

точнее покажу просто что части можно

делать и плюс мне не устраивает то что

он остается как бы в этой колонке то

есть мне хочется чтобы он отсюда исчезал

поэтому значит здесь мы можем сделать

следующие когда мы запускаем функцию

драга старт на самом деле здесь у нас

прилетает объект который называется

event-а и вам нужен можно назвать как

угодно можно ее назвать я для чуть более

подробности пишу здесь

полное название event-ы

если мы посмотрим на то что такое у нас

ивент .

таргет да когда мы вызываем драк старт

то вы видите что ивент таргет это и есть

сам этот элемент

да то есть мы имеем к нему доступ и

можем с ним что-то делать поэтому мы

будем довольно таки часто в данном видео

пользоваться этой конструкцией так что

просто запомните второй вариант который

хотел показать мы можем обратиться к

такому ключевому слову в из но опять же

я бы не рекомендовал вам использовать

виз для подобного функционала не буду

сейчас останавливаться на подробностях

мы опять же рассказываем это в большом

курсе подробно просто запомните что

лучше для того чтобы у вас было меньше

ошибок обращаться к event таргет это

хоть чуть дольше но при этом скорее

всего вы с меньшей вероятностью

допустить ошибку и так как у нас есть

доступ к этому i went to our guide to

например мы можем добавлять к нему css

стили было то время когда мы его

перетаскиваем мы уже знаем как это

делать мы можем обратиться к его and our

guide .

close лист и например добавить класс ну

например я назову его hold а пока он

ничего не делает потому что этого класса

мне так же не существует поэтому давайте

перейдем в css я назову класс холод так

же как в java script

ну примеры ради я например могу добавить

значит border 5 пикселей solid red

что-нибудь абсолютно ужасное

обновлю страницу чтобы эти класс не

добавлялись начиная перетаскивать и вы

видите как прекрасно теперь выглядит

наше приложение стилистика потрясающая

но этим я хочу показать да что в

процессе перетаскивания мы добавили этот

класс теперь правда есть проблемка том

плане что он остается навсегда но так

как мы обрабатываем события drag and the

здесь мы то

получаем ивенты мы можем в этот момент

удалить ненужный нам класс то есть

написать event таргет класс лист риму

fold теперь мы начинаем перетаскивать но

если я возвращаю его обратно то видите

класс пропадает этот функционал мужик

поправили значит для того чтобы это все

не выглядело так дико здесь я напишу

какой-нибудь цвет очень светлая будет

граница вот и при этом мы понимаем то

что мы добавляем эту стилистику хорошо

значит и здесь я предлагаю также удалить

то консоль лог чтобы он нам не мешал

здесь тоже потому что мы уже поняли как

это работает

следующая проблема под которой я хочу

избавиться когда я перетаскиваю я хочу

чтобы этого элемента здесь не было и на

самом деле мы тоже можем это сделать с

помощью стилей если например значит

добавим класс который будет скрывать

этот элемент

значит я продублирую строчку и здесь я

создам класс добавлю класс точнее хайд

значит перейду в стиле реализуя класс

хайд он будет сделать очень простую вещь

он выговоришь то нужно добавить дисплей

нам для того чтобы элементы сейчас

однако если мы останемся в таком виде то

как только я начинаю перетаскивать

элемент пропадает почему потому что

вначале добавляется класс cold и тут же

добавляется класс хайд который бьет и

полностью скрывает этот элемент что

принципе логично и для того чтобы вот

элемент у нас остался под мышкой да

который мы перетаскиваем мы можем

воспользоваться таким небольшим хаком

который я сейчас просто пишу опять же не

буду углубляться в механику того как это

работает потому что довольно таки

продвинутая тема связана с

event лапам мы опять же про это очень

подробно рассказываем большом курсе

здесь я просто покажу как это

реализовывается то есть я добавляю

функцию set time all

которая позволяет делать какие-то

действия с задержкой и сюда и передаем

кубок функцию то есть это круглые

скобочки девочка значит и

axis я здесь получают то есть я просто

перенес это в эту строчку в снт mode и

здесь написал 0 теперь давайте посмотрим

изменю если поведение значит я начинаю

перетаскивать элемент и да как видите он

у нас пропал из этой колонке и теперь мы

можем ехать перетаскать визуально однако

когда мы отпустили элементу он также

пропал потому что нам необходимо удалить

класс хайд до который мы также добавили

так перетаскиваю

возвращаю и вот он на месте кстати здесь

мы можем сократить запись на то есть мы

дважды удаляем различные классы можем

вторым параметром просто передать другое

название класса это будет то же самое да

либо же мы можем вообще написать очки

по-другому обратиться к никлас list a

class name и сказать что вот нужно

перетереть все классы и добавить сюда

только строчку этом да и в принципе

копейки есть то же самое получается я

ставлю такой вариант вам на выбор

запомнить только что классно им всегда

работает в строчкой класс лист это

некоторый объект у которого есть методы

которые позволяют манипулировать

классами значит самой карточкой мы

разобрались и теперь необходимо

реализовать вот эти вот placeholder это

есть места куда эту карточку можно

перетащить

для этого нам необходимо их поучить из

html они у нас сбываются путем ковыряя

запроса

до к классу плейсхолдер поэтому его я

копирую и нам необходимо получить все

эти элементы так что одессе создаю

константу place folders и получаю его с

помощью документ

учитывая что нам нужно получить

множество элементов то здесь я обращаюсь

как вере селектор all и сюда передают .

placeholder

дальше значит нам нужно обработать

каждый из них поэтому мы уже знаем

способы позволяющее приближать

циклом да по нескольким плейсхолдером я

воспользуюсь здесь с циклом for love то

есть я буду на каждой итерации создавать

placeholder из массива плейсхолдер то

есть тут у нас в единственном числе

здесь во множественном числе давайте

убедимся что мы делаем все правильно то

есть в конце лагеря

я выведу здесь конкретный placeholder и

вот мы видим что первый второй и третий

окей и дальше к каждому

placeholder у я добавлю несколько

событий то есть у не будут уже другие

события мы добавляем все это с помощью

метода add bank леснер

и вот события которые нас интересуют

drug

повар значит дальше

копирую enter и

лиф и также я добавлю еще одно событие

которое просто называется

дроп то есть что это вообще за этапа мы

с вами сейчас посмотрим но драк повар он

вызывается тогда когда элемент которыми

перетаскиваем находится над

непосредственно плейсхолдером куда мы

можем поместить enter это когда мы

заходим на территорию этого происходило

конкретного лив это когда мы перетащили

но вышли оттуда и дроп это когда мы

отпустили

здесь нам необходимо создать функции до

который будет все это обрабатывать

поэтому я довольно-таки быстро их создал

каждой из этих функций будет принимать

свой event значит и называемых правильно

enter

и лиф и

также давайте еще здесь я назову это все

drag drop да несмотря на то что событие

здесь просто называется дров я назову

функцию drag drop только для того чтобы

понятно и так же давайте везде добавим

пока что в консоль блоги

то есть будем проверять что вообще

происходит здесь у нас drug for each у

нас драк enter здесь у нас

брак лиф и здесь мы будет события drag

drop

безусловно у нас здесь появляется ошибка

да потому что если мы почитаем браузер

не смог выполнить функцию адвентист мир

потому что он вторым параметром ждет

функцию а мы всего лишь один параметр

и заставили это справедливо что мы

передаем драк повар сюда мы придаем

принципе можно копировать здесь драка

enter драк лиф и сюда мы придаем drag

drop

окей теперь ошибок никаких нет и давайте

смотреть за консолью что вообще здесь

происходит я начинает перетаскивать у

нас срабатывает событие драк повар

потому что на самом деле мы сейчас

находимся над плейсхолдером куда можно

поместить

и как только я допустим перемещаюсь к

следующему placeholder

здесь мы видим что у нас пока есть

определенные баги

то называется события

рак enter потом

maestro color да и он довольно таки

часто вызывается то есть мы видим 614

вызовов и после этого вызывается драк

лифта есть мы убрали

до из этого поля и принесли опять новый

драка enter the color pro crack

драйвера пока не происходит чуть позже

объясню почему но всяком случае мы видим

последовательность тех событий и теперь

алгоритм довольно таки простой то есть

когда мы перетаскиваем карточку в нужное

место где ее можно сбросить

то нам нужно визуально это показать мы

это делаем путем добавления классов

поэтому значит когда мы заходим на

территорию определенного placeholder а

здесь я могу обратиться к event таргет

класс list от i например добавить класс

кавер то есть

мы его ним

дима реализовать ну давайте для начала

денежки делаешь непростое 6 border топ

например равняется 2 пикселя solid а

пусть будет blue

вот почему нет теперь я начинает

остывать и вот в общем то мы визуально

помещаем до что в эти места мы можем

сбрасывать таким образом это выглядит я

думаю что вы понимаете проблематику что

они остаются здесь эти классы и это не

совсем правильно поэтому а когда у нас

происходит событие драк лив мы делаем

тоже самое только удаляем этот класс я

копирую здесь строчку и вместо метода от

я вызываю метод примут для того чтобы

его удалить так давайте тантра кофр

закомментируем чтобы он нам не мешал но

вы уже поняли с ним начиная

перетаскивать и вот как это в общем

выглядит да то есть здесь просто

добавляем класс которую визуальном это

дело подсвечивает теперь давайте добавим

нормальный цвет который запланировал то

у нас аж 8 d7 еды так смотрим теперь

были менее красиво и осталось обработать

теперь только события drag drop

здесь тоже на самом деле все довольно

таки просто то есть мы как бы сбрасываем

этот элемент и соответственно нам

необходимо его переместить в html

то есть сейчас у нас элемент находится в

первом ps холдере ну допустим мы хотим

его перекинуть в процессе да то есть нам

необходимо этот а этом добавить в

placeholder 2 и мы это можем очень

просто сделать обратившись к

event таргет в драг дробь и и здесь

event or get это будет конкретный по из

холдер с которым мы работаем здесь мы

можем вызвать метод append и сюда мы

вставляем вот этот элемент который мы

перемещаем а этом так теперь давайте

посмотрим я пробую перетащить

но не работает потому что здесь есть

один нюанс для чего как раз таки нам и

нужна функция drag a wear хоть мы и не

будем с ней визуально нечего делать по

умолчанию она отменяет поведение

которая позволяет нам перетаскивать эти

элементы и для того чтобы это исправить

здесь мы обращаемся к объекту

event-ы вызываем такой метод который

называется prevent дефолт теперь вот

значит за нашим объектам и

чего в процессе мы видим что и в и чтим

или он у нас оказывается во втором

элементе

да если мы хотим перетащить его в 3 то

он теперь находится у нас в третьем все

теперь эта часть у нас готово я думаю

что вы видите здесь определенный баг

который показывают что у нас все еще

есть верхний border но сделать мы это

можем

он довольно таки просто исправить если

вы берем класс говорит да ты здесь я

выбираю его с помощью метода триумф

так

и вот наш функционал то есть как видите

теперь у нас действительно перемещается

этот элемент

и

да подсвечивается как и было заявлено

поэтому я предлагаю закончить это тем

что берем всякий консоль логин теперь

что касается домашнего задания для этого

дня она будет довольно таки простой но

при этом очень важно и напоминаю что вы

должны сдать домашку до 16 часов

следующего дня во первых вы должны

написать тот же самый проект на для того

чтобы у вас получился примерно то же

самое функционал и добавьте немножечко

другую стилистику

то есть поиграйте со стилистика класса

холод и

с классом а ведь так чтобы это было

красиво но по-другому чем показываю я да

потому что это будет критерием приема

данные домашние работы

так же подпишитесь на меня на ю тубе

значит меня найти довольно таки просто

так как там есть огромнейшее количество

вот кстати я

материалов по java script найти мне

довольно просто владилен минин и более

того там есть различные подсказки как

устроиться на работу без опыта и в общем

посмотрите по списку видео вам

понравится напоминаю как сдать домашнюю

работу значит мы переходим в такой

сервис как

джесс виду

чеканы отдавайте на весь экран теперь

сделаю все это да и сюда мы переносим

наш код все что касается css в css

все что было написано в об . джесс в

java script и темы льва html

нажимаем ран

проверяем что все это у нас работает

нажимаем саиф да и вот эту ссылочку нам

необходимо будет прислать для того чтобы

мы это проверим и поправьте стилистику

также хочу сказать что очень важно будет

сдать домашнюю работу так как

завтра будет новый проектом будет

реально очень крутой точки зрения

стилистики и эффекты это будет очень

необычный слайдер картинок которые вы

сможете вставить в практически в любой

проект кастомизировать его и получить

очень впечатляющий функционал поэтому

будете на связи и увидимся

